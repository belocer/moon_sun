{"version":3,"sources":["app.js"],"names":["Box3D","obj","_classCallCheck","this","varDebounce","сountdownAnim","card","document","querySelector","shift_wrap","card__container","tiltAngle","addEventListener","mainAnimate","bind","el","item","removeAttribute","e","_this","clearTimeout","rect","target","getBoundingClientRect","offset_y","offsetY","layerY","width","y","height","x","elementDirectionalShift","style","left","top","offset_x","clearTagStyle","concat","window"],"mappings":"uZAAMA,iBACF,SAAAA,EAAYC,GAAKC,gBAAAC,KAAAH,GACbG,KAAKC,YAAc,EACnBD,KAAKE,cAAgB,EACrBF,KAAKG,KAAOC,SAASC,cAAcP,EAAIK,MACvCH,KAAKM,WAAaF,SAASC,cAAcP,EAAIQ,YAC7CN,KAAKO,gBAAkBH,SAASC,cAAcP,EAAIS,iBAClDP,KAAKQ,UAAYV,EAAIU,WAAa,GAPpCX,KAQOU,gBAAgBE,iBAAiB,YAAaT,KAAKU,YAAYC,KAAKX,yDAG7E,SAAcY,GATVA,EAAKX,SAAAA,SAAAA,GAAc,OAAGY,EAAAC,gBAAA,uCAa1B,SAAYC,GAAG,IAAAC,EAAAhB,KAXXiB,aAAYb,KAASC,aAarBY,aAAajB,KAAKE,eAZlBF,KAAKM,YAAaF,YAASC,WAcvB,IAAIa,EAAOH,EAAEI,OAAOC,wBAbnBb,EAAkBH,EAAAA,SAASC,EAAAA,OAexBgB,EAAWN,EAAEO,SAAWP,EAAEQ,OAd7Bf,EAAL,IAAqBA,EAAJU,EAAqBM,MAgB9BC,EAAI,IAAMJ,EAAWH,EAAKQ,OAdrCC,EAAA,IAAAF,EAAA,IAiBWT,EAAKY,wBAAwBZ,EAAKR,WAAYQ,EAAKR,WAAY,EAAG,IAClEQ,EAAKV,WAAWuB,MAAMC,KAAO,OAC7Bd,EAAKV,WAAWuB,MAAME,IAAM,QAjBxCJ,EAAA,IAAAF,EAAA,IACIT,EAAWY,wBAAIZ,EAAAR,UAAAQ,EAAAR,WAAA,GAAA,IAAIK,EAAKC,WAAAA,MAAgBgB,KAAzB,QAAfd,EAAAV,WAAAuB,MAAAE,IAAA,KACHJ,EAAA,IAAAF,EAAA,IAqBWT,EAAKY,yBAAyBZ,EAAKR,WAAYQ,EAAKR,UAAW,GAAI,IACnEQ,EAAKV,WAAWuB,MAAMC,KAAO,IApBzCd,EAAAV,WAAYS,MAAGgB,IAAA,SAAAJ,EAAA,IAAAF,EAAA,KAuBHT,EAAKY,yBAAyBZ,EAAKR,UAAWQ,EAAKR,UAAW,EAAG,IAtBzES,EAAaX,WAAKL,MAAlB6B,KAAA,QACAb,EAAaX,WAAKJ,MAAlB6B,IAAA,WAGI,GAEA/B,KAAKE,cAAS8B,YAAgBR,WAC1BC,EAAIQ,cAAA,CAAAjB,EAAqBb,OAwB7Ba,EAAKiB,cAAc,CAACjB,EAAKV,eAtBzB,4CA0BR,SAAwBqB,EAAGF,GAxBfzB,KAAAG,KAAKG,MAAAA,UAAL,+BAAA4B,OAAAP,EAAA,iBAAAO,OAAAT,EAAA,+BAGAU,OAAA1B,iBAAKmB,QAAAA,WAiCjB,IAAI/B,MANW,CA1BHM,KAAA,oBACAI,gBAAKD,uBACRA,WAAW,cAAmBE,UAAA","file":"app.min.js","sourcesContent":["class Box3D {\r\n    constructor(obj) {\r\n        this.varDebounce = 0; // ТаймАут срабатывания всей анимации\r\n        this.сountdownAnim = 0; // ТаймАут срабатывания всей анимации\r\n        this.card = document.querySelector(obj.card); // Анимируемый блок\r\n        this.shift_wrap = document.querySelector(obj.shift_wrap); // Блок сдвига\r\n        this.card__container = document.querySelector(obj.card__container); // Блок контейнер\r\n        this.tiltAngle = obj.tiltAngle || 10; // угол отклонения в градусах\r\n        this.card__container.addEventListener('mousemove', this.mainAnimate.bind(this));\r\n    }\r\n\r\n    clearTagStyle(el) {\r\n        el.forEach(item => item.removeAttribute('style'));\r\n    }\r\n\r\n    mainAnimate(e) {\r\n        clearTimeout(this.varDebounce);\r\n        clearTimeout(this.сountdownAnim);\r\n        this.varDebounce = setTimeout(() => {\r\n            let rect = e.target.getBoundingClientRect();\r\n            let offset_x = e.offsetX || e.layerX\r\n            let offset_y = e.offsetY || e.layerY\r\n            let x = 100 * offset_x / rect.width;\r\n            let y = 100 * offset_y / rect.height;\r\n\r\n            if (x < 50 && y < 50) { // Левый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, -this.tiltAngle, -8, 10)\r\n                this.shift_wrap.style.left = '-7px';\r\n                this.shift_wrap.style.top = '-7px';\r\n            } else if (x > 50 && y < 50) { // Правый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, this.tiltAngle, -8, -10)\r\n                this.shift_wrap.style.left = '-30px';\r\n                this.shift_wrap.style.top = '0';\r\n            } else if (x < 50 && y > 50) { // Левый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, -this.tiltAngle, 8, -10)\r\n                this.shift_wrap.style.left = '0';\r\n                this.shift_wrap.style.top = '-30px';\r\n            } else if (x > 50 && y > 50) { // Правый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, this.tiltAngle, 8, 10)\r\n                this.shift_wrap.style.left = '-30px';\r\n                this.shift_wrap.style.top = '-30px';\r\n            }\r\n\r\n        }, 1);\r\n\r\n        this.сountdownAnim = setTimeout(() => {\r\n            this.clearTagStyle([this.card])\r\n            this.clearTagStyle([this.shift_wrap])\r\n        }, 2000)\r\n    }\r\n\r\n    elementDirectionalShift(x, y) {\r\n        this.card.style.transform = `perspective(1200px) rotateX(${x}deg) rotateY(${y}deg) translateZ(0)`;\r\n    }\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    let obg_card = {\r\n        card: '.moon-sun__window', // Анимируемый блок\r\n        card__container: '.moon-sun__container', // Блок контейнер\r\n        shift_wrap: '.shift_wrap', // Блок для сдвига\r\n        tiltAngle: 8, // угол отклонения в градусах\r\n    };\r\n    new Box3D(obg_card);\r\n})"]}