{"version":3,"sources":["app.js"],"names":["Box3D","obj","_classCallCheck","this","varDebounce","сountdownAnim","card","document","querySelector","shift_wrap","depth_shadow_first_level","depth_shadow_second_level","window__shadow","card__container","tiltAngle","addEventListener","mainAnimate","bind","el","forEach","item","removeAttribute","_this","clearTimeout","setTimeout","offset_x","e","offsetX","layerX","x","rect","width","offset_y","elementDirectionalShift","style","top","y","left","getBoundingClientRect","offsetY","clearTagStyle","signX","arguments","length","undefined","signY","concat","boxShadow","window","ellipse_moon","querySelectorAll","ellipse_sun","moon_stars","sun1","clouds","birds","sea","mountain_far","mountain","forest","startSun","index","animate","delay","duration","transform","fill","opacity","obg_card","bottom","easing","right","composite","finishSun","startMoon","res"],"mappings":"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","file":"app.min.js","sourcesContent":["class Box3D {\r\n    constructor(obj) {\r\n        this.varDebounce = 0; // ТаймАут срабатывания всей анимации\r\n        this.сountdownAnim = 0; // ТаймАут срабатывания всей анимации\r\n        this.card = document.querySelector(obj.card); // Анимируемый блок\r\n        this.shift_wrap = document.querySelector(obj.shift_wrap); // Блок сдвига\r\n        this.depth_shadow_first_level = obj.depth_shadow_first_level || 17; // Глубина тень первый уровень\r\n        this.depth_shadow_second_level = obj.depth_shadow_second_level || 22; // Глубина тень второй уровень\r\n        this.window__shadow = document.querySelector(obj.window__shadow); // Внутренняя тень\r\n        this.card__container = document.querySelector(obj.card__container); // Блок контейнер\r\n        this.tiltAngle = obj.tiltAngle || 10; // угол отклонения в градусах\r\n        this.card__container.addEventListener('mousemove', this.mainAnimate.bind(this));\r\n    }\r\n\r\n    clearTagStyle(el) {\r\n        el.forEach(item => item.removeAttribute('style'));\r\n    }\r\n\r\n    mainAnimate(e) {\r\n        clearTimeout(this.varDebounce);\r\n        clearTimeout(this.сountdownAnim);\r\n        this.varDebounce = setTimeout(() => {\r\n            let rect = e.target.getBoundingClientRect();\r\n            let offset_x = e.offsetX || e.layerX\r\n            let offset_y = e.offsetY || e.layerY\r\n            let x = 100 * offset_x / rect.width;\r\n            let y = 100 * offset_y / rect.height;\r\n\r\n            if (x < 50 && y < 50) { // Левый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, -this.tiltAngle)\r\n                this.shift_wrap.style.left = '-7px';\r\n                this.shift_wrap.style.top = '-7px';\r\n            } else if (x > 50 && y < 50) { // Правый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, this.tiltAngle, '-', '')\r\n                this.shift_wrap.style.left = '-30px';\r\n                this.shift_wrap.style.top = '0';\r\n            } else if (x < 50 && y > 50) { // Левый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, -this.tiltAngle, '', '-')\r\n                this.shift_wrap.style.left = '0';\r\n                this.shift_wrap.style.top = '-30px';\r\n            } else if (x > 50 && y > 50) { // Правый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, this.tiltAngle, '-', '-')\r\n                this.shift_wrap.style.left = '-30px';\r\n                this.shift_wrap.style.top = '-30px';\r\n            }\r\n\r\n        }, 1);\r\n\r\n        this.сountdownAnim = setTimeout(() => {\r\n            this.clearTagStyle([this.card])\r\n            this.clearTagStyle([this.shift_wrap])\r\n            this.clearTagStyle([this.window__shadow])\r\n        }, 2000)\r\n    }\r\n\r\n    elementDirectionalShift(x, y, signX = '', signY = '') {\r\n        this.card.style.transform = `perspective(1200px) rotateX(${x}deg) rotateY(${y}deg) translateZ(0)`;\r\n        this.window__shadow.style.boxShadow = `inset ${signX}${this.depth_shadow_first_level}px ${signY}${this.depth_shadow_first_level}px 40px rgba(0,0,0, 0.7), inset ${signX}${this.depth_shadow_second_level}px ${signY}${this.depth_shadow_second_level}px 50px rgba(0,0,0, 0.7)`;\r\n    }\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    let obg_card = {\r\n        card: '.moon-sun__window', // Анимируемый блок\r\n        card__container: '.moon-sun__container', // Блок контейнер\r\n        shift_wrap: '.shift_wrap', // Блок для сдвига\r\n        window__shadow: '.window__shadow', // Блок тени\r\n        tiltAngle: 8, // угол отклонения в градусах\r\n        depth_shadow_first_level: 15, // угол отклонения в градусах\r\n        depth_shadow_second_level: 20, // угол отклонения в градусах\r\n    };\r\n    new Box3D(obg_card);\r\n\r\n    let ellipse_moon = document.querySelectorAll('.ellipse_moon');\r\n    let ellipse_sun = document.querySelectorAll('.ellipse_sun');\r\n    let moon_stars = document.querySelector('.moon_stars');\r\n    let sun1 = document.querySelector('.sun1');\r\n    let clouds = document.querySelector('.clouds');\r\n    let birds = document.querySelector('.birds');\r\n    let sea = document.querySelector('.sea');\r\n    let mountain_far = document.querySelector('.mountain_far');\r\n    let mountain = document.querySelector('.mountain');\r\n    let forest = document.querySelector('.forest');\r\n\r\n    startSun();\r\n\r\n    function startSun() {\r\n        ellipse_sun.forEach((item, index) => {\r\n            setTimeout(() => {\r\n                let res;\r\n                res = item.animate([{left: 0}], {\r\n                    delay: 500,\r\n                    duration: 500,\r\n                    fill: 'forwards',\r\n                    easing: 'ease-in-out',\r\n                });\r\n                res.addEventListener('finish', () => {\r\n                    setTimeout(() => {\r\n                        item.animate([{transform: 'translateZ(0)'}], {\r\n                            duration: 500,\r\n                            fill: 'forwards',\r\n                        });\r\n                    }, 600);\r\n                });\r\n            }, index * 250);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            sun1.animate([{opacity: 1, top: 0}], {\r\n                delay: 500,\r\n                duration: 500,\r\n                fill: 'forwards',\r\n            });\r\n        }, 1500);\r\n\r\n        setTimeout(() => {\r\n            clouds.animate([{top: 0}], {\r\n                duration: 1500,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 2200);\r\n\r\n        setTimeout(() => {\r\n            birds.animate([{left: 0}], {\r\n                duration: 1500,\r\n                fill: 'forwards',\r\n            });\r\n        }, 2600);\r\n\r\n        setTimeout(() => {\r\n            mountain_far.animate([{bottom: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 3000);\r\n\r\n        setTimeout(() => {\r\n            sea.animate([{bottom: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 3400);\r\n\r\n        setTimeout(() => {\r\n            mountain.animate([{right: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 3800);\r\n\r\n        setTimeout(() => {\r\n            forest.animate([{left: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n            setTimeout(() => finishSun(), 7000)\r\n        }, 4200);\r\n    }\r\n\r\n    function finishSun() {\r\n        setTimeout(() => {\r\n            forest.animate([{left: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 3700);\r\n\r\n        ellipse_sun.forEach((item, index) => {\r\n            setTimeout(() => {\r\n                let res = item.animate([{transform: 'translateZ(-100px)'}], {\r\n                    duration: 500,\r\n                    fill: 'forwards',\r\n                    composite: 'add',\r\n                });\r\n\r\n                res.addEventListener('finish', () => {\r\n                    setTimeout(() => {\r\n                        item.animate([{left: '-100%'}], {\r\n                            delay: 500,\r\n                            duration: 500,\r\n                            fill: 'forwards',\r\n                            easing: 'ease-in-out',\r\n                            composite: 'add',\r\n                        });\r\n                    }, 600);\r\n                });\r\n            }, index * 250);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            sun1.animate([{opacity: 0, top: '-100%'}], {\r\n                duration: 500,\r\n                fill: 'forwards',\r\n            });\r\n        }, 3000);\r\n\r\n        setTimeout(() => {\r\n            clouds.animate([{top: '-100%'}], {\r\n                duration: 1500,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 2500);\r\n\r\n        setTimeout(() => {\r\n            birds.animate([{left: '-100%'}], {\r\n                duration: 1750,\r\n                fill: 'forwards',\r\n            });\r\n        }, 2200);\r\n\r\n        setTimeout(() => {\r\n            sea.animate([{bottom: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1900);\r\n\r\n        setTimeout(() => {\r\n            mountain_far.animate([{bottom: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1600);\r\n\r\n        setTimeout(() => {\r\n            mountain.animate([{right: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1300);\r\n        setTimeout(() => {\r\n            let resAnim = forest.animate([{left: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n            setTimeout(() => startMoon(), 3000)\r\n        }, 1000);\r\n    }\r\n\r\n    function startMoon() {\r\n        ellipse_moon.forEach((item, index) => {\r\n            setTimeout(() => {\r\n                let res;\r\n                res = item.animate([{right: 0}], {\r\n                    delay: 500,\r\n                    duration: 500,\r\n                    fill: 'forwards',\r\n                    easing: 'ease-in-out',\r\n                });\r\n                res.addEventListener('finish', () => {\r\n                    setTimeout(() => {\r\n                        item.animate([{transform: 'translateZ(0)'}], {\r\n                            duration: 500,\r\n                            fill: 'forwards',\r\n                        });\r\n                    }, 600);\r\n                });\r\n            }, index * 250);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            moon_stars.animate([{opacity: 1, top: 0}], {\r\n                delay: 500,\r\n                duration: 500,\r\n                fill: 'forwards',\r\n            });\r\n        }, 2000);\r\n\r\n        setTimeout(() => {\r\n            mountain_far.animate([{bottom: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 2400);\r\n\r\n        setTimeout(() => {\r\n            sea.animate([{bottom: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 2800);\r\n\r\n        setTimeout(() => {\r\n            mountain.animate([{right: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 3200);\r\n\r\n        setTimeout(() => {\r\n            forest.animate([{left: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n            setTimeout(() => finishMoon(), 7000)\r\n        }, 3700);\r\n    }\r\n\r\n    function finishMoon() {\r\n        ellipse_moon.forEach((item, index) => {\r\n            setTimeout(() => {\r\n                let res = item.animate([{transform: 'translateZ(-100px)'}], {\r\n                    duration: 500,\r\n                    fill: 'forwards',\r\n                    composite: 'add',\r\n                });\r\n\r\n                res.addEventListener('finish', () => {\r\n                    setTimeout(() => {\r\n                        item.animate([{right: '-100%'}], {\r\n                            delay: 500,\r\n                            duration: 500,\r\n                            fill: 'forwards',\r\n                            easing: 'ease-in-out',\r\n                            composite: 'add',\r\n                        });\r\n                    }, 600);\r\n                });\r\n            }, index * 450);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            moon_stars.animate([{opacity: 0, top: '-100%'}], {\r\n                delay: 500,\r\n                duration: 500,\r\n                fill: 'forwards',\r\n            });\r\n        }, 1700);\r\n\r\n\r\n        setTimeout(() => {\r\n            sea.animate([{bottom: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1900);\r\n\r\n        setTimeout(() => {\r\n            mountain_far.animate([{bottom: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1600);\r\n\r\n        setTimeout(() => {\r\n            mountain.animate([{right: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1300);\r\n\r\n        setTimeout(() => {\r\n            forest.animate([{left: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n            setTimeout(() => startSun(), 3000)\r\n        }, 1000);\r\n    }\r\n});"]}