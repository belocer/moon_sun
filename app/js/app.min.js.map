{"version":3,"sources":["app.js"],"names":["Box3D","obj","_classCallCheck","this","varDebounce","сountdownAnim","card","document","querySelector","shift_wrap","depth_shadow_first_level","depth_shadow_second_level","window__shadow","card__container","tiltAngle","addEventListener","mainAnimate","bind","el","forEach","item","removeAttribute","_this","clearTimeout","setTimeout","offset_x","e","offsetX","layerX","x","rect","width","offset_y","elementDirectionalShift","style","top","y","left","getBoundingClientRect","offsetY","clearTagStyle","signX","arguments","length","undefined","signY","concat","boxShadow","window","ellipse_moon","querySelectorAll","ellipse_sun","moon_stars","sun1","clouds","birds","sea","mountain_far","mountain","forest","bg","startSun","animate","background","backgroundSize","opacity","duration","fill","easing","index","delay","transform","bottom","right","composite","finishSun","filter","resAnim","startMoon"],"mappings":"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","file":"app.min.js","sourcesContent":["class Box3D {\r\n    constructor(obj) {\r\n        this.varDebounce = 0; // ТаймАут срабатывания всей анимации\r\n        this.сountdownAnim = 0; // ТаймАут срабатывания всей анимации\r\n        this.card = document.querySelector(obj.card); // Анимируемый блок\r\n        this.shift_wrap = document.querySelector(obj.shift_wrap); // Блок сдвига\r\n        this.depth_shadow_first_level = obj.depth_shadow_first_level || 17; // Глубина тень первый уровень\r\n        this.depth_shadow_second_level = obj.depth_shadow_second_level || 22; // Глубина тень второй уровень\r\n        this.window__shadow = document.querySelector(obj.window__shadow); // Внутренняя тень\r\n        this.card__container = document.querySelector(obj.card__container); // Блок контейнер\r\n        this.tiltAngle = obj.tiltAngle || 10; // угол отклонения в градусах\r\n        this.card__container.addEventListener('mousemove', this.mainAnimate.bind(this));\r\n    }\r\n\r\n    clearTagStyle(el) {\r\n        el.forEach(item => item.removeAttribute('style'));\r\n    }\r\n\r\n    mainAnimate(e) {\r\n        clearTimeout(this.varDebounce);\r\n        clearTimeout(this.сountdownAnim);\r\n        this.varDebounce = setTimeout(() => {\r\n            let rect = e.target.getBoundingClientRect();\r\n            let offset_x = e.offsetX || e.layerX\r\n            let offset_y = e.offsetY || e.layerY\r\n            let x = 100 * offset_x / rect.width;\r\n            let y = 100 * offset_y / rect.height;\r\n\r\n            if (x < 50 && y < 50) { // Левый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, -this.tiltAngle)\r\n                this.shift_wrap.style.left = '-7px';\r\n                this.shift_wrap.style.top = '-7px';\r\n            } else if (x > 50 && y < 50) { // Правый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, this.tiltAngle, '-', '')\r\n                this.shift_wrap.style.left = '-30px';\r\n                this.shift_wrap.style.top = '0';\r\n            } else if (x < 50 && y > 50) { // Левый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, -this.tiltAngle, '', '-')\r\n                this.shift_wrap.style.left = '0';\r\n                this.shift_wrap.style.top = '-30px';\r\n            } else if (x > 50 && y > 50) { // Правый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, this.tiltAngle, '-', '-')\r\n                this.shift_wrap.style.left = '-30px';\r\n                this.shift_wrap.style.top = '-30px';\r\n            }\r\n\r\n        }, 1);\r\n\r\n        this.сountdownAnim = setTimeout(() => {\r\n            this.clearTagStyle([this.card])\r\n            this.clearTagStyle([this.shift_wrap])\r\n            this.clearTagStyle([this.window__shadow])\r\n        }, 2000)\r\n    }\r\n\r\n    elementDirectionalShift(x, y, signX = '', signY = '') {\r\n        this.card.style.transform = `perspective(1200px) rotateX(${x}deg) rotateY(${y}deg) translateZ(0)`;\r\n        this.window__shadow.style.boxShadow = `inset ${signX}${this.depth_shadow_first_level}px ${signY}${this.depth_shadow_first_level}px 40px rgba(0,0,0, 0.7), inset ${signX}${this.depth_shadow_second_level}px ${signY}${this.depth_shadow_second_level}px 50px rgba(0,0,0, 0.7)`;\r\n    }\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    let obg_card = {\r\n        card: '.moon-sun__window', // Анимируемый блок\r\n        card__container: '.moon-sun__container', // Блок контейнер\r\n        shift_wrap: '.shift_wrap', // Блок для сдвига\r\n        window__shadow: '.window__shadow', // Блок тени\r\n        tiltAngle: 8, // угол отклонения в градусах\r\n        depth_shadow_first_level: 15, // угол отклонения в градусах\r\n        depth_shadow_second_level: 20, // угол отклонения в градусах\r\n    };\r\n    new Box3D(obg_card);\r\n\r\n    let ellipse_moon = document.querySelectorAll('.ellipse_moon');\r\n    let ellipse_sun = document.querySelectorAll('.ellipse_sun');\r\n    let moon_stars = document.querySelector('.moon_stars');\r\n    let sun1 = document.querySelector('.sun1');\r\n    let clouds = document.querySelector('.clouds');\r\n    let birds = document.querySelector('.birds');\r\n    let sea = document.querySelector('.sea');\r\n    let mountain_far = document.querySelector('.mountain_far');\r\n    let mountain = document.querySelector('.mountain');\r\n    let forest = document.querySelector('.forest');\r\n    let bg = document.querySelector('#bg');\r\n\r\n    startSun();\r\n\r\n    function startSun() {\r\n\r\n        bg.animate([\r\n            {background: 'url(./img/dest/main_bg1.webp)', backgroundSize: 'cover', opacity: '1'},\r\n            {background: 'url(./img/dest/main_bg2.webp)', backgroundSize: 'cover', opacity: '0'},\r\n            {background: 'url(./img/dest/main_bg2.webp)', backgroundSize: 'cover', opacity: '1'},\r\n        ], {\r\n            delay: 500,\r\n            duration: 500,\r\n            fill: 'forwards',\r\n            easing: 'ease-in-out',\r\n        });\r\n\r\n        ellipse_sun.forEach((item, index) => {\r\n            setTimeout(() => {\r\n                let res;\r\n                res = item.animate([{left: 0}], {\r\n                    delay: 500,\r\n                    duration: 500,\r\n                    fill: 'forwards',\r\n                    easing: 'ease-in-out',\r\n                });\r\n                res.addEventListener('finish', () => {\r\n                    setTimeout(() => {\r\n                        item.animate([{transform: 'translateZ(0)'}], {\r\n                            duration: 500,\r\n                            fill: 'forwards',\r\n                        });\r\n                    }, 600);\r\n                });\r\n            }, index * 250);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            sun1.animate([{opacity: 1, top: 0}], {\r\n                delay: 500,\r\n                duration: 500,\r\n                fill: 'forwards',\r\n            });\r\n        }, 1500);\r\n\r\n        setTimeout(() => {\r\n            clouds.animate([{top: 0}], {\r\n                duration: 1500,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 2200);\r\n\r\n        setTimeout(() => {\r\n            birds.animate([{left: 0}], {\r\n                duration: 1500,\r\n                fill: 'forwards',\r\n            });\r\n        }, 2600);\r\n\r\n        setTimeout(() => {\r\n            mountain_far.animate([{bottom: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 3000);\r\n\r\n        setTimeout(() => {\r\n            sea.animate([{bottom: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 3400);\r\n\r\n        setTimeout(() => {\r\n            mountain.animate([{right: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 3800);\r\n\r\n        setTimeout(() => {\r\n            forest.animate([{left: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n            setTimeout(() => finishSun(), 7000)\r\n        }, 4200);\r\n    }\r\n\r\n    function finishSun() {\r\n        setTimeout(() => {\r\n            forest.animate([{left: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 3700);\r\n\r\n        ellipse_sun.forEach((item, index) => {\r\n            setTimeout(() => {\r\n                let res = item.animate([{transform: 'translateZ(-100px)'}], {\r\n                    duration: 500,\r\n                    fill: 'forwards',\r\n                    composite: 'add',\r\n                });\r\n\r\n                res.addEventListener('finish', () => {\r\n                    setTimeout(() => {\r\n                        item.animate([{left: '-100%'}], {\r\n                            delay: 500,\r\n                            duration: 500,\r\n                            fill: 'forwards',\r\n                            easing: 'ease-in-out',\r\n                            composite: 'add',\r\n                        });\r\n                    }, 600);\r\n                });\r\n            }, index * 250);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            sun1.animate([{opacity: 0, top: '-100%'}], {\r\n                duration: 500,\r\n                fill: 'forwards',\r\n            });\r\n        }, 3000);\r\n\r\n        setTimeout(() => {\r\n            clouds.animate([{top: '-100%'}], {\r\n                duration: 1500,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 2500);\r\n\r\n        setTimeout(() => {\r\n            birds.animate([{left: '-100%'}], {\r\n                duration: 1750,\r\n                fill: 'forwards',\r\n            });\r\n        }, 2200);\r\n\r\n        setTimeout(() => {\r\n            sea.animate([{bottom: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1900);\r\n\r\n        setTimeout(() => {\r\n            mountain_far.animate([{bottom: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1600);\r\n\r\n        setTimeout(() => {\r\n            mountain.animate([{right: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1300);\r\n        setTimeout(() => {\r\n            let resAnim = forest.animate([{left: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n            setTimeout(() => startMoon(), 3000)\r\n        }, 1000);\r\n    }\r\n\r\n    function startMoon() {\r\n        bg.animate([\r\n            {background: 'url(./img/dest/main_bg2.webp)', backgroundSize: 'cover', opacity: '1'},\r\n            {background: 'url(./img/dest/main_bg1.webp)', backgroundSize: 'cover', opacity: '0'},\r\n            {background: 'url(./img/dest/main_bg1.webp)', backgroundSize: 'cover', opacity: '1'},\r\n        ], {\r\n            delay: 500,\r\n            duration: 500,\r\n            fill: 'forwards',\r\n            easing: 'ease-in-out',\r\n        });\r\n\r\n        ellipse_moon.forEach((item, index) => {\r\n            setTimeout(() => {\r\n                let res;\r\n                res = item.animate([{right: 0}], {\r\n                    delay: 500,\r\n                    duration: 500,\r\n                    fill: 'forwards',\r\n                    easing: 'ease-in-out',\r\n                });\r\n                res.addEventListener('finish', () => {\r\n                    setTimeout(() => {\r\n                        item.animate([{transform: 'translateZ(0)'}], {\r\n                            duration: 500,\r\n                            fill: 'forwards',\r\n                        });\r\n                    }, 600);\r\n                });\r\n            }, index * 250);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            moon_stars.animate([{opacity: 1, top: 0}], {\r\n                delay: 500,\r\n                duration: 500,\r\n                fill: 'forwards',\r\n            });\r\n        }, 2300);\r\n\r\n        setTimeout(() => {\r\n            mountain_far.animate([{bottom: 0, filter: 'brightness(.5)'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 2700);\r\n\r\n        setTimeout(() => {\r\n            sea.animate([{bottom: 0, filter: 'brightness(.5)'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 3000);\r\n\r\n        setTimeout(() => {\r\n            mountain.animate([{right: 0, filter: 'brightness(.5)'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 3300);\r\n\r\n        setTimeout(() => {\r\n            forest.animate([{left: 0}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n            setTimeout(() => finishMoon(), 7000);\r\n        }, 3700);\r\n    }\r\n\r\n    function finishMoon() {\r\n        ellipse_moon.forEach((item, index) => {\r\n            setTimeout(() => {\r\n                let res = item.animate([{transform: 'translateZ(-100px)'}], {\r\n                    duration: 500,\r\n                    fill: 'forwards',\r\n                    composite: 'add',\r\n                });\r\n\r\n                res.addEventListener('finish', () => {\r\n                    setTimeout(() => {\r\n                        item.animate([{right: '-100%'}], {\r\n                            delay: 500,\r\n                            duration: 500,\r\n                            fill: 'forwards',\r\n                            easing: 'ease-in-out',\r\n                            composite: 'add',\r\n                        });\r\n                    }, 600);\r\n                });\r\n            }, index * 350);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            moon_stars.animate([{opacity: 0, top: '-100%'}], {\r\n                delay: 500,\r\n                duration: 500,\r\n                fill: 'forwards',\r\n            });\r\n        }, 1700);\r\n\r\n\r\n        setTimeout(() => {\r\n            sea.animate([{bottom: '-100%', filter: 'brightness(1)'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1900);\r\n\r\n        setTimeout(() => {\r\n            mountain_far.animate([{bottom: '-100%', filter: 'brightness(1)'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1600);\r\n\r\n        setTimeout(() => {\r\n            mountain.animate([{right: '-100%', filter: 'brightness(1)'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n        }, 1300);\r\n\r\n        setTimeout(() => {\r\n            forest.animate([{left: '-100%'}], {\r\n                duration: 1000,\r\n                fill: 'forwards',\r\n                easing: 'ease-in-out',\r\n            });\r\n            setTimeout(() => startSun(), 3000)\r\n        }, 1000);\r\n    }\r\n});"]}