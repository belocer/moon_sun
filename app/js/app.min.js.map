{"version":3,"sources":["app.js"],"names":["Box3D","obj","_classCallCheck","this","varDebounce","сountdownAnim","card","document","querySelector","shift_wrap","depth_shadow_first_level","depth_shadow_second_level","window__shadow","card__container","tiltAngle","addEventListener","mainAnimate","bind","el","forEach","item","removeAttribute","_this","clearTimeout","setTimeout","offset_x","e","offsetX","layerX","x","rect","width","offset_y","elementDirectionalShift","style","top","y","left","getBoundingClientRect","offsetY","clearTagStyle","signX","arguments","length","undefined","signY","concat","boxShadow","window"],"mappings":"uZAAMA,iBACF,SAAAA,EAAYC,GAAKC,gBAAAC,KAAAH,GACbG,KAAKC,YAAc,EACnBD,KAAKE,cAAgB,EACrBF,KAAKG,KAAOC,SAASC,cAAcP,EAAIK,MACvCH,KAAKM,WAAaF,SAASC,cAAcP,EAAIQ,YAC7CN,KAAKO,yBAA2BT,EAAIS,0BAA4B,GAChEP,KAAKQ,0BAA4BV,EAAIU,2BAA6B,GAPpEX,KAQOY,eAAiBL,SAASC,cAAcP,EAAIW,gBAPrDT,KAAAU,gBAAiBN,SAAAC,cAAAP,EAAAY,iBAAAV,KAAAW,UAAAb,EAAAa,WAAA,GAUbX,KAAKU,gBAAgBE,iBAAiB,YAAaZ,KAAKa,YAAYC,KAAKd,yDARzE,SAAKE,GAYLa,EAAGC,SAAQ,SAAAC,GAAI,OAAIA,EAAKC,gBAAgB,uCAVxC,SAAKZ,GAAL,IAAAa,EAAAnB,KAcAoB,aAAapB,KAAKC,aAblBmB,aAAKb,KAAAA,eAeLP,KAAKC,YAAcoB,YAAW,WAdzBb,IAAAA,EAAAA,EAAAA,OAAAA,wBAgBGc,EAAWC,EAAEC,SAAWD,EAAEE,OAf7BhB,EAAiBL,EAAAA,SAASC,EAAAA,OAiBvBqB,EAAI,IAAMJ,EAAWK,EAAKC,MAhB7BlB,EAAAA,IAALmB,EAAgCxB,EAAAA,OAC3BM,EAAL,IAAqBA,EAAAA,IAmBbQ,EAAKW,wBAAwBX,EAAKR,WAAYQ,EAAKR,WAlBtDD,EAAAA,WAAgBE,MAAAA,KAAiB,OACzCO,EAAAb,WAAAyB,MAAAC,IAAA,QAoBkBN,EAAI,IAAMO,EAAI,IACrBd,EAAKW,wBAAwBX,EAAKR,UAAWQ,EAAKR,UAAW,IAAK,IAClEQ,EAAKb,WAAWyB,MAAMG,KAAO,QApBzCf,EAAAb,WAAAyB,MAAkBC,IAAA,KACHN,EAAAT,IAAIgB,EAAA,IAAIhB,EAAKC,yBAATC,EAAAR,WAAAQ,EAAAR,UAAA,GAAA,KAAfQ,EAAAb,WAAAyB,MAAAG,KAAA,IACHf,EAAAb,WAAAyB,MAAAC,IAAA,SAwBkBN,EAAI,IAAMO,EAAI,KACrBd,EAAKW,yBAAyBX,EAAKR,UAAWQ,EAAKR,UAAW,IAAK,KAvB/EQ,EAAAb,WAAYiB,MAAGW,KAAA,QAAAf,EAAAb,WAAAyB,MAAAC,IAAA,WAEXZ,GAEIpB,KAAI2B,cAAgBQ,YAAAA,WAChBb,EAAAA,cAAaE,CAAFL,EAAchB,OACzB0B,EAAAA,cAAaO,CAAFjB,EAAcb,aACzBoB,EAAIW,cAAA,CAAAlB,EAAqBV,mBAC7B,4CAEwB,SAAAiB,EAAAO,GAAA,IAAAK,EAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAA,GAAAG,EAAAH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAA,GACpBvC,KAAAG,KAAK2B,MAAAA,UAAL,+BAAAa,OAAmDhC,EAAnD,iBAAAgC,OAAAV,EAAA,sBA4BRjC,KAAKS,eAAesB,MAAMa,UAA1B,SAAAD,OAA+CL,GAA/CK,OAAuD3C,KAAKO,yBAA5D,OAAAoC,OAA0FD,GAA1FC,OAAkG3C,KAAKO,yBAAvG,oCAAAoC,OAAkKL,GAAlKK,OAA0K3C,KAAKQ,0BAA/K,OAAAmC,OAA8MD,GAA9MC,OAAsN3C,KAAKQ,0BAA3N,qCAzBmCqC,OAAAjC,iBAAA,QAAA,WAO3B,IAAAf,MANKiC,CA8Bb3B,KAAM,oBA7BEO,gBAAKJ,uBACLA,WAAKA,cACRG,eAAc,kBAAgBE,UAAA,EAC3BJ,yBAAKuB,GAgCbtB,0BAA2B","file":"app.min.js","sourcesContent":["class Box3D {\r\n    constructor(obj) {\r\n        this.varDebounce = 0; // ТаймАут срабатывания всей анимации\r\n        this.сountdownAnim = 0; // ТаймАут срабатывания всей анимации\r\n        this.card = document.querySelector(obj.card); // Анимируемый блок\r\n        this.shift_wrap = document.querySelector(obj.shift_wrap); // Блок сдвига\r\n        this.depth_shadow_first_level = obj.depth_shadow_first_level || 17; // Глубина тень первый уровень\r\n        this.depth_shadow_second_level = obj.depth_shadow_second_level || 22; // Глубина тень второй уровень\r\n        this.window__shadow = document.querySelector(obj.window__shadow); // Внутренняя тень\r\n        this.card__container = document.querySelector(obj.card__container); // Блок контейнер\r\n        this.tiltAngle = obj.tiltAngle || 10; // угол отклонения в градусах\r\n        this.card__container.addEventListener('mousemove', this.mainAnimate.bind(this));\r\n    }\r\n\r\n    clearTagStyle(el) {\r\n        el.forEach(item => item.removeAttribute('style'));\r\n    }\r\n\r\n    mainAnimate(e) {\r\n        clearTimeout(this.varDebounce);\r\n        clearTimeout(this.сountdownAnim);\r\n        this.varDebounce = setTimeout(() => {\r\n            let rect = e.target.getBoundingClientRect();\r\n            let offset_x = e.offsetX || e.layerX\r\n            let offset_y = e.offsetY || e.layerY\r\n            let x = 100 * offset_x / rect.width;\r\n            let y = 100 * offset_y / rect.height;\r\n\r\n            if (x < 50 && y < 50) { // Левый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, -this.tiltAngle)\r\n                this.shift_wrap.style.left = '-7px';\r\n                this.shift_wrap.style.top = '-7px';\r\n            } else if (x > 50 && y < 50) { // Правый верхний угол\r\n                this.elementDirectionalShift(this.tiltAngle, this.tiltAngle, '-', '')\r\n                this.shift_wrap.style.left = '-30px';\r\n                this.shift_wrap.style.top = '0';\r\n            } else if (x < 50 && y > 50) { // Левый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, -this.tiltAngle, '', '-')\r\n                this.shift_wrap.style.left = '0';\r\n                this.shift_wrap.style.top = '-30px';\r\n            } else if (x > 50 && y > 50) { // Правый нижний угол\r\n                this.elementDirectionalShift(-this.tiltAngle, this.tiltAngle, '-', '-')\r\n                this.shift_wrap.style.left = '-30px';\r\n                this.shift_wrap.style.top = '-30px';\r\n            }\r\n\r\n        }, 1);\r\n\r\n        this.сountdownAnim = setTimeout(() => {\r\n            this.clearTagStyle([this.card])\r\n            this.clearTagStyle([this.shift_wrap])\r\n            this.clearTagStyle([this.window__shadow])\r\n        }, 2000)\r\n    }\r\n\r\n    elementDirectionalShift(x, y, signX = '', signY = '') {\r\n        this.card.style.transform = `perspective(1200px) rotateX(${x}deg) rotateY(${y}deg) translateZ(0)`;\r\n        this.window__shadow.style.boxShadow = `inset ${signX}${this.depth_shadow_first_level}px ${signY}${this.depth_shadow_first_level}px 40px rgba(0,0,0, 0.8), inset ${signX}${this.depth_shadow_second_level}px ${signY}${this.depth_shadow_second_level}px 50px rgba(0,0,0, 0.8)`;\r\n    }\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n    let obg_card = {\r\n        card: '.moon-sun__window', // Анимируемый блок\r\n        card__container: '.moon-sun__container', // Блок контейнер\r\n        shift_wrap: '.shift_wrap', // Блок для сдвига\r\n        window__shadow: '.window__shadow', // Блок тени\r\n        tiltAngle: 8, // угол отклонения в градусах\r\n        depth_shadow_first_level: 15, // угол отклонения в градусах\r\n        depth_shadow_second_level: 20, // угол отклонения в градусах\r\n    };\r\n    new Box3D(obg_card);\r\n})"]}