"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var Box3D=function(){function e(t){_classCallCheck(this,e),this.varDebounce=0,this.сountdownAnim=0,this.card=document.querySelector(t.card),this.shift_wrap=document.querySelector(t.shift_wrap),this.depth_shadow_first_level=t.depth_shadow_first_level||17,this.depth_shadow_second_level=t.depth_shadow_second_level||22,this.window__shadow=document.querySelector(t.window__shadow),this.card__container=document.querySelector(t.card__container),this.tiltAngle=t.tiltAngle||10,this.card__container.addEventListener("mousemove",this.mainAnimate.bind(this))}return _createClass(e,[{key:"clearTagStyle",value:function(e){e.forEach((function(e){return e.removeAttribute("style")}))}},{key:"mainAnimate",value:function(e){var t=this;clearTimeout(this.varDebounce),clearTimeout(this.сountdownAnim),this.varDebounce=setTimeout((function(){var i=e.target.getBoundingClientRect(),n=e.offsetX||e.layerX,o=e.offsetY||e.layerY,a=100*n/i.width,r=100*o/i.height;a<50&&r<50?(t.elementDirectionalShift(t.tiltAngle,-t.tiltAngle),t.shift_wrap.style.left="-7px",t.shift_wrap.style.top="-7px"):a>50&&r<50?(t.elementDirectionalShift(t.tiltAngle,t.tiltAngle,"-",""),t.shift_wrap.style.left="-30px",t.shift_wrap.style.top="0"):a<50&&r>50?(t.elementDirectionalShift(-t.tiltAngle,-t.tiltAngle,"","-"),t.shift_wrap.style.left="0",t.shift_wrap.style.top="-30px"):a>50&&r>50&&(t.elementDirectionalShift(-t.tiltAngle,t.tiltAngle,"-","-"),t.shift_wrap.style.left="-30px",t.shift_wrap.style.top="-30px")}),1),this.сountdownAnim=setTimeout((function(){t.clearTagStyle([t.card]),t.clearTagStyle([t.shift_wrap]),t.clearTagStyle([t.window__shadow])}),2e3)}},{key:"elementDirectionalShift",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.card.style.transform="perspective(1200px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg) translateZ(0)"),this.window__shadow.style.boxShadow="inset ".concat(i).concat(this.depth_shadow_first_level,"px ").concat(n).concat(this.depth_shadow_first_level,"px 40px rgba(0,0,0, 0.7), inset ").concat(i).concat(this.depth_shadow_second_level,"px ").concat(n).concat(this.depth_shadow_second_level,"px 50px rgba(0,0,0, 0.7)")}}]),e}();window.addEventListener("load",(function(){new Box3D({card:".moon-sun__window",card__container:".moon-sun__container",shift_wrap:".shift_wrap",window__shadow:".window__shadow",tiltAngle:8,depth_shadow_first_level:15,depth_shadow_second_level:20});var e=document.querySelectorAll(".ellipse_moon"),t=document.querySelectorAll(".ellipse_sun"),i=document.querySelector(".moon_stars"),n=document.querySelector(".sun1"),o=document.querySelector(".clouds"),a=document.querySelector(".birds"),r=document.querySelector(".sea"),s=document.querySelector(".mountain_far"),u=document.querySelector(".mountain"),l=document.querySelector(".forest"),d=document.querySelector("#bg");function f(){d.animate([{background:"url(./img/dest/main_bg1.webp)",backgroundSize:"cover",opacity:"1"},{background:"url(./img/dest/main_bg2.webp)",backgroundSize:"cover",opacity:"0"},{background:"url(./img/dest/main_bg2.webp)",backgroundSize:"cover",opacity:"1"}],{delay:500,duration:500,fill:"forwards",easing:"ease-in-out"}),t.forEach((function(e,t){setTimeout((function(){e.animate([{left:0}],{delay:500,duration:500,fill:"forwards",easing:"ease-in-out"}).addEventListener("finish",(function(){setTimeout((function(){e.animate([{transform:"translateZ(0)"}],{duration:500,fill:"forwards"})}),600)}))}),250*t)})),setTimeout((function(){n.animate([{opacity:1,top:0}],{delay:500,duration:500,fill:"forwards"})}),1500),setTimeout((function(){o.animate([{top:0}],{duration:1500,fill:"forwards",easing:"ease-in-out"})}),2200),setTimeout((function(){a.animate([{left:0}],{duration:1500,fill:"forwards"})}),2600),setTimeout((function(){s.animate([{bottom:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),3e3),setTimeout((function(){r.animate([{bottom:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),3400),setTimeout((function(){u.animate([{right:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),3800),setTimeout((function(){l.animate([{left:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"}),setTimeout((function(){return setTimeout((function(){l.animate([{left:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),3700),t.forEach((function(e,t){setTimeout((function(){e.animate([{transform:"translateZ(-100px)"}],{duration:500,fill:"forwards",composite:"add"}).addEventListener("finish",(function(){setTimeout((function(){e.animate([{left:"-100%"}],{delay:500,duration:500,fill:"forwards",easing:"ease-in-out",composite:"add"})}),600)}))}),250*t)})),setTimeout((function(){n.animate([{opacity:0,top:"-100%"}],{duration:500,fill:"forwards"})}),3e3),setTimeout((function(){o.animate([{top:"-100%"}],{duration:1500,fill:"forwards",easing:"ease-in-out"})}),2500),setTimeout((function(){a.animate([{left:"-100%"}],{duration:1750,fill:"forwards"})}),2200),setTimeout((function(){r.animate([{bottom:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1900),setTimeout((function(){s.animate([{bottom:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1600),setTimeout((function(){u.animate([{right:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1300),void setTimeout((function(){l.animate([{left:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"}),setTimeout((function(){return d.animate([{background:"url(./img/dest/main_bg2.webp)",backgroundSize:"cover",opacity:"1"},{background:"url(./img/dest/main_bg1.webp)",backgroundSize:"cover",opacity:"0"},{background:"url(./img/dest/main_bg1.webp)",backgroundSize:"cover",opacity:"1"}],{delay:500,duration:500,fill:"forwards",easing:"ease-in-out"}),e.forEach((function(e,t){setTimeout((function(){e.animate([{right:0}],{delay:500,duration:500,fill:"forwards",easing:"ease-in-out"}).addEventListener("finish",(function(){setTimeout((function(){e.animate([{transform:"translateZ(0)"}],{duration:500,fill:"forwards"})}),600)}))}),250*t)})),setTimeout((function(){i.animate([{opacity:1,top:0}],{delay:500,duration:500,fill:"forwards"})}),2300),setTimeout((function(){s.animate([{bottom:0,filter:"brightness(.5)"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),2700),setTimeout((function(){r.animate([{bottom:0,filter:"brightness(.5)"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),3e3),setTimeout((function(){u.animate([{right:0,filter:"brightness(.5)"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),3300),void setTimeout((function(){l.animate([{left:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"}),setTimeout((function(){return e.forEach((function(e,t){setTimeout((function(){e.animate([{transform:"translateZ(-100px)"}],{duration:500,fill:"forwards",composite:"add"}).addEventListener("finish",(function(){setTimeout((function(){e.animate([{right:"-100%"}],{delay:500,duration:500,fill:"forwards",easing:"ease-in-out",composite:"add"})}),600)}))}),350*t)})),setTimeout((function(){i.animate([{opacity:0,top:"-100%"}],{delay:500,duration:500,fill:"forwards"})}),1700),setTimeout((function(){r.animate([{bottom:"-100%",filter:"brightness(1)"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1900),setTimeout((function(){s.animate([{bottom:"-100%",filter:"brightness(1)"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1600),setTimeout((function(){u.animate([{right:"-100%",filter:"brightness(1)"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1300),void setTimeout((function(){l.animate([{left:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"}),setTimeout((function(){return f()}),3e3)}),1e3)}),7e3)}),3700)}),3e3)}),1e3)}),7e3)}),4200)}f()}));
//# sourceMappingURL=app.min.js.map
