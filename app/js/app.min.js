"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var Box3D=function(){function t(e){_classCallCheck(this,t),this.varDebounce=0,this.сountdownAnim=0,this.card=document.querySelector(e.card),this.shift_wrap=document.querySelector(e.shift_wrap),this.depth_shadow_first_level=e.depth_shadow_first_level||17,this.depth_shadow_second_level=e.depth_shadow_second_level||22,this.window__shadow=document.querySelector(e.window__shadow),this.card__container=document.querySelector(e.card__container),this.tiltAngle=e.tiltAngle||10,this.card__container.addEventListener("mousemove",this.mainAnimate.bind(this))}return _createClass(t,[{key:"clearTagStyle",value:function(t){t.forEach((function(t){return t.removeAttribute("style")}))}},{key:"mainAnimate",value:function(t){var e=this;clearTimeout(this.varDebounce),clearTimeout(this.сountdownAnim),this.varDebounce=setTimeout((function(){var i=t.target.getBoundingClientRect(),n=t.offsetX||t.layerX,o=t.offsetY||t.layerY,a=100*n/i.width,r=100*o/i.height;a<50&&r<50?(e.elementDirectionalShift(e.tiltAngle,-e.tiltAngle),e.shift_wrap.style.left="-7px",e.shift_wrap.style.top="-7px"):a>50&&r<50?(e.elementDirectionalShift(e.tiltAngle,e.tiltAngle,"-",""),e.shift_wrap.style.left="-30px",e.shift_wrap.style.top="0"):a<50&&r>50?(e.elementDirectionalShift(-e.tiltAngle,-e.tiltAngle,"","-"),e.shift_wrap.style.left="0",e.shift_wrap.style.top="-30px"):a>50&&r>50&&(e.elementDirectionalShift(-e.tiltAngle,e.tiltAngle,"-","-"),e.shift_wrap.style.left="-30px",e.shift_wrap.style.top="-30px")}),1),this.сountdownAnim=setTimeout((function(){e.clearTagStyle([e.card]),e.clearTagStyle([e.shift_wrap]),e.clearTagStyle([e.window__shadow])}),2e3)}},{key:"elementDirectionalShift",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.card.style.transform="perspective(1200px) rotateX(".concat(t,"deg) rotateY(").concat(e,"deg) translateZ(0)"),this.window__shadow.style.boxShadow="inset ".concat(i).concat(this.depth_shadow_first_level,"px ").concat(n).concat(this.depth_shadow_first_level,"px 40px rgba(0,0,0, 0.7), inset ").concat(i).concat(this.depth_shadow_second_level,"px ").concat(n).concat(this.depth_shadow_second_level,"px 50px rgba(0,0,0, 0.7)")}}]),t}();window.addEventListener("load",(function(){new Box3D({card:".moon-sun__window",card__container:".moon-sun__container",shift_wrap:".shift_wrap",window__shadow:".window__shadow",tiltAngle:8,depth_shadow_first_level:15,depth_shadow_second_level:20});var t=document.querySelectorAll(".ellipse_moon"),e=document.querySelectorAll(".ellipse_sun"),i=document.querySelector(".moon_stars"),n=document.querySelector(".sun1"),o=document.querySelector(".clouds"),a=document.querySelector(".birds"),r=document.querySelector(".sea"),s=document.querySelector(".mountain_far"),u=document.querySelector(".mountain"),l=document.querySelector(".forest");function f(){e.forEach((function(t,e){setTimeout((function(){t.animate([{left:0}],{delay:500,duration:500,fill:"forwards",easing:"ease-in-out"}).addEventListener("finish",(function(){setTimeout((function(){t.animate([{transform:"translateZ(0)"}],{duration:500,fill:"forwards"})}),600)}))}),250*e)})),setTimeout((function(){n.animate([{opacity:1,top:0}],{delay:500,duration:500,fill:"forwards"})}),1500),setTimeout((function(){o.animate([{top:0}],{duration:1500,fill:"forwards",easing:"ease-in-out"})}),2200),setTimeout((function(){a.animate([{left:0}],{duration:1500,fill:"forwards"})}),2600),setTimeout((function(){s.animate([{bottom:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),3e3),setTimeout((function(){r.animate([{bottom:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),3400),setTimeout((function(){u.animate([{right:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),3800),setTimeout((function(){l.animate([{left:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"}),setTimeout((function(){return setTimeout((function(){l.animate([{left:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),3700),e.forEach((function(t,e){setTimeout((function(){t.animate([{transform:"translateZ(-100px)"}],{duration:500,fill:"forwards",composite:"add"}).addEventListener("finish",(function(){setTimeout((function(){t.animate([{left:"-100%"}],{delay:500,duration:500,fill:"forwards",easing:"ease-in-out",composite:"add"})}),600)}))}),250*e)})),setTimeout((function(){n.animate([{opacity:0,top:"-100%"}],{duration:500,fill:"forwards"})}),3e3),setTimeout((function(){o.animate([{top:"-100%"}],{duration:1500,fill:"forwards",easing:"ease-in-out"})}),2500),setTimeout((function(){a.animate([{left:"-100%"}],{duration:1750,fill:"forwards"})}),2200),setTimeout((function(){r.animate([{bottom:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1900),setTimeout((function(){s.animate([{bottom:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1600),setTimeout((function(){u.animate([{right:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1300),void setTimeout((function(){l.animate([{left:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"}),setTimeout((function(){return t.forEach((function(t,e){setTimeout((function(){t.animate([{right:0}],{delay:500,duration:500,fill:"forwards",easing:"ease-in-out"}).addEventListener("finish",(function(){setTimeout((function(){t.animate([{transform:"translateZ(0)"}],{duration:500,fill:"forwards"})}),600)}))}),250*e)})),setTimeout((function(){i.animate([{opacity:1,top:0}],{delay:500,duration:500,fill:"forwards"})}),2e3),setTimeout((function(){s.animate([{bottom:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),2400),setTimeout((function(){r.animate([{bottom:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),2800),setTimeout((function(){u.animate([{right:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),3200),void setTimeout((function(){l.animate([{left:0}],{duration:1e3,fill:"forwards",easing:"ease-in-out"}),setTimeout((function(){return t.forEach((function(t,e){setTimeout((function(){t.animate([{transform:"translateZ(-100px)"}],{duration:500,fill:"forwards",composite:"add"}).addEventListener("finish",(function(){setTimeout((function(){t.animate([{right:"-100%"}],{delay:500,duration:500,fill:"forwards",easing:"ease-in-out",composite:"add"})}),600)}))}),450*e)})),setTimeout((function(){i.animate([{opacity:0,top:"-100%"}],{delay:500,duration:500,fill:"forwards"})}),1700),setTimeout((function(){r.animate([{bottom:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1900),setTimeout((function(){s.animate([{bottom:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1600),setTimeout((function(){u.animate([{right:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"})}),1300),void setTimeout((function(){l.animate([{left:"-100%"}],{duration:1e3,fill:"forwards",easing:"ease-in-out"}),setTimeout((function(){return f()}),3e3)}),1e3)}),7e3)}),3700)}),3e3)}),1e3)}),7e3)}),4200)}f()}));
//# sourceMappingURL=app.min.js.map
